<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TIC TAC TOE</title>
    <link rel="stylesheet" href="css/tic-tac-toe.css">
</head>
<body>

    <header>
        <h1>TIC TAC TOE</h1>
    </header>

    <div class="container-top">

        <div class="x-side">X Players Turn</div>

        <div class="game-box">
            <div class="squares" id="top-left"></div>
            <div class="squares" id="top-center"></div>
            <div class="squares" id="top-right"></div>
            <div class="squares" id="center-left"></div>
            <div class="squares" id="center-center"></div>
            <div class="squares" id="center-right"></div>
            <div class="squares" id="bottom-left"></div>
            <div class="squares" id="bottom-center"></div>
            <div class="squares" id="bottom-right"></div>
        </div>

        <div class="o-side">O Players Turn</div>

    </div>

    <div class="container-bottom">

        <button class="button" id="one-player">One Player</button>

        <button class="button" id="reset">Start Over</button>

        <button class="button" id="two-player">Two Player</button>

    </div>

    <div class="score">

        <div class='score-board' id="x-score">

            <div class="score-title">X GAMES WON</div>

            <div class="x-points-display">0</div>

        </div>

        <div class='score-board' id="draw-score">

            <div class="score-title">DRAW GAMES</div>

            <div class="draw-points-display">0</div>

        </div>

        <div class='score-board' id="o-score">

            <div class="score-title">O GAMES WON</div>

            <div class="o-points-display">0</div>

        </div>

    </div>



<script src="js/jquery-2.2.4.js"></script>
<script>
    $(document).ready(function(){
        'use strict';

        //VARIABLES
        var count = 0;
        var squares = $('.squares');
        var tl = $('#top-left');
        var tc = $('#top-center');
        var tr = $('#top-right');
        var cl = $('#center-left');
        var cc = $('#center-center');
        var cr = $('#center-right');
        var bl = $('#bottom-left');
        var bc = $('#bottom-center');
        var br = $('#bottom-right');
        var squareArray = [tl,tc,tr,cl,cc,cr,bl,bc,br];
        var oTurn = $('.o-side');
        var xTurn = $('.x-side');
        var reset = $('#reset');
        var twoPlayer = $('#two-player');
        var onePlayer = $('#one-player')
        var xScore = $('.x-points-display')
        var drawScore = $('.draw-points-display')
        var oScore = $('.o-points-display')
        console.log(typeof xPoints);
        if(typeof xPoints === 'undefined'){
            var xPoints = 0;
            localStorage.setItem('xScore',xPoints)
        } else {
            var xPoints = localStorage.getItem('xScore')
            xPoints = Number(xPoints)
        }
        console.log(typeof xPoints);
        var drawPoints = 0
        var oPoints = 0

        //^^^^VARIABLES^^^^

        //DEFINED FUNCTIONS
        function squareClickedTwo(){
            if ($(this).html() === '') {
                count += 1
                if (count % 2 !== 0) {
                    xTurn.css('visibility', 'hidden');
                    oTurn.css('visibility', 'unset');
                    $(this).html('X');
                    checkForWin()
                } else {
                    oTurn.css('visibility', 'hidden');
                    xTurn.css('visibility', 'unset');
                    $(this).html('O');
                    checkForWin()
                }
            }
        }

        function squareClickedOne(){
            count += 1
            if ($(this).html() === '') {
                $(this).html('X');
                checkForWin()
                aiLogic()
            }
        }

        function aiLogic() {
            count += 1
            if(tl.html() === 'O' && tc.html() === 'O' && tr.html() === ''){
                oPlayer(tr)
            } else if (tl.html() === 'O' && tr.html() === 'O' && tc.html() === ''){
                oPlayer(tc)
            } else if (tc.html() === 'O' && tr.html() === 'O' && tl.html() === ''){
                oPlayer(tl)
            } else if (cl.html() === 'O' && cc.html() === 'O' && cr.html() === ''){
                oPlayer(cr)
            } else if (cl.html() === 'O' && cr.html() === 'O' && cc.html() === ''){
                oPlayer(cc)
            } else if (cc.html() === 'O' && cr.html() === 'O' && cl.html() === ''){
                oPlayer(cl)
            } else if (bl.html() === 'O' && bc.html() === 'O' && br.html() === ''){
                oPlayer(br)
            } else if (bl.html() === 'O' && br.html() === 'O' && bc.html() === ''){
                oPlayer(bc)
            } else if (bc.html() === 'O' && br.html() === 'O' && bl.html() === ''){
                oPlayer(bl)
            } else if (tl.html() === 'O' && cl.html() === 'O' && bl.html() === ''){
                oPlayer(bl)
            } else if (tl.html() === 'O' && bl.html() === 'O' && cl.html() === ''){
                oPlayer(cl)
            } else if (cl.html() === 'O' && bl.html() === 'O' && tl.html() === ''){
                oPlayer(tl)
            } else if (tc.html() === 'O' && cc.html() === 'O' && bc.html() === ''){
                oPlayer(bc)
            } else if (tc.html() === 'O' && bc.html() === 'O' && cc.html() === ''){
                oPlayer(cc)
            } else if (cc.html() === 'O' && bc.html() === 'O' && tc.html() === ''){
                oPlayer(tc)
            } else if (tr.html() === 'O' && cr.html() === 'O' && br.html() === ''){
                oPlayer(br)
            } else if (tr.html() === 'O' && br.html() === 'O' && cr.html() === ''){
                oPlayer(cr)
            } else if (cr.html() === 'O' && br.html() === 'O' && tr.html() === ''){
                oPlayer(tr)
            } else if (tl.html() === 'O' && cc.html() === 'O' && br.html() === ''){
                oPlayer(br)
            } else if (tl.html() === 'O' && br.html() === 'X' && cc.html() === ''){
                oPlayer(cc)
            } else if (cc.html() === 'O' && br.html() === 'O' && tl.html() === ''){
                oPlayer(tl)
            } else if (tr.html() === 'O' && cc.html() === 'O' && bl.html() === ''){
                oPlayer(bl)
            } else if (tr.html() === 'O' && bl.html() === 'O' && cc.html() === ''){
                oPlayer(cc)
            } else if (cc.html() === 'O' && bl.html() === 'O' && tr.html() === ''){
                oPlayer(tr)
            } else if(tl.html() === 'X' && tc.html() === 'X' && tr.html() === ''){
                oPlayer(tr)
            } else if (tl.html() === 'X' && tr.html() === 'X' && tc.html() === ''){
                oPlayer(tc)
            } else if (tc.html() === 'X' && tr.html() === 'X' && tl.html() === ''){
                oPlayer(tl)
            } else if (cl.html() === 'X' && cc.html() === 'X' && cr.html() === ''){
                oPlayer(cr)
            } else if (cl.html() === 'X' && cr.html() === 'X' && cc.html() === ''){
                oPlayer(cc)
            } else if (cc.html() === 'X' && cr.html() === 'X' && cl.html() === ''){
                oPlayer(cl)
            } else if (bl.html() === 'X' && bc.html() === 'X' && br.html() === ''){
                oPlayer(br)
            } else if (bl.html() === 'X' && br.html() === 'X' && bc.html() === ''){
                oPlayer(bc)
            } else if (bc.html() === 'X' && br.html() === 'X' && bl.html() === ''){
                oPlayer(bl)
            } else if (tl.html() === 'X' && cl.html() === 'X' && bl.html() === ''){
                oPlayer(bl)
            } else if (tl.html() === 'X' && bl.html() === 'X' && cl.html() === ''){
                oPlayer(cl)
            } else if (cl.html() === 'X' && bl.html() === 'X' && tl.html() === ''){
                oPlayer(tl)
            } else if (tc.html() === 'X' && cc.html() === 'X' && bc.html() === ''){
                oPlayer(bc)
            } else if (tc.html() === 'X' && bc.html() === 'X' && cc.html() === ''){
                oPlayer(cc)
            } else if (cc.html() === 'X' && bc.html() === 'X' && tc.html() === ''){
                oPlayer(tc)
            } else if (tr.html() === 'X' && cr.html() === 'X' && br.html() === ''){
                oPlayer(br)
            } else if (tr.html() === 'X' && br.html() === 'X' && cr.html() === ''){
                oPlayer(cr)
            } else if (cr.html() === 'X' && br.html() === 'X' && tr.html() === ''){
                oPlayer(tr)
            } else if (tl.html() === 'X' && cc.html() === 'X' && br.html() === ''){
                oPlayer(br)
            } else if (tl.html() === 'X' && br.html() === 'X' && cc.html() === ''){
                oPlayer(cc)
            } else if (cc.html() === 'X' && br.html() === 'X' && tl.html() === ''){
                oPlayer(tl)
            } else if (tr.html() === 'X' && cc.html() === 'X' && bl.html() === ''){
                oPlayer(bl)
            } else if (tr.html() === 'X' && bl.html() === 'X' && cc.html() === ''){
                oPlayer(cc)
            } else if (cc.html() === 'X' && bl.html() === 'X' && tr.html() === ''){
                oPlayer(tr)
            } else if(cc.html() === ''){
                oPlayer(cc)
            } else if(cc.html() === 'X') {
                if (tl.html() === ''){
                    oPlayer(tl)
                } else if (tr.html() === ''){
                    oPlayer(tr)
                } else if (br.html() === ''){
                    oPlayer(br)
                } else if (bl.html() === ''){
                    oPlayer(bl)
                }
            } else if (tc.html() === ''){
                oPlayer(tc)
            } else if (cr.html() === ''){
                oPlayer(cr)
            } else if (bc.html() === ''){
                oPlayer(bc)
            } else if (cl.html() === ''){
                oPlayer(cl)
            } else if (tl.html() === ''){
                oPlayer(tl)
            } else if (tr.html() === ''){
                oPlayer(tr)
            } else if (br.html() === ''){
                oPlayer(br)
            } else if (bl.html() === ''){
                oPlayer(bl)
            }
        }

        function oPlayer(square){
            xTurn.css('visibility', 'unset');
            oTurn.css('visibility', 'hidden');
            square.html('O');
            checkForWin()
        }

        function youWon(a, b, c){
            if (a.html() !== '' && b.html() !== '' && c.html() !== ''){
                if (a.html() === 'X' && b.html() === 'X' && c.html() === 'X'){
                    xPoints += 1
                    xScore.html(xPoints)
                    a.css('color', 'yellow')
                    a.css('background', 'blue')
                    b.css('color', 'yellow')
                    b.css('background', 'blue')
                    c.css('color', 'yellow')
                    c.css('background', 'blue')
                    xTurn.html('X PLAYER WON!!!')
                    oTurn.html('O PLAYER WON!!!')
                    oTurn.css('visibility', 'hidden');
                    xTurn.css('visibility', 'unset');
                    squareArray.forEach(function(square){
                        if(square.html() === ''){
                            square.html('Z')
                            square.css('color', 'white')
                        }
                    })
                } else if (a.html() === 'O' && b.html() === 'O' && c.html() === 'O'){
                    oPoints += 1
                    oScore.html(oPoints)
                    a.css('color', 'yellow')
                    a.css('background', 'blue')
                    b.css('color', 'yellow')
                    b.css('background', 'blue')
                    c.css('color', 'yellow')
                    c.css('background', 'blue')
                    oTurn.html('O PLAYER WON!!!')
                    xTurn.html('X PLAYER WON!!!')
                    xTurn.css('visibility', 'hidden');
                    oTurn.css('visibility', 'unset');
                    squareArray.forEach(function(square){
                        if(square.html() === ''){
                            square.html('Z')
                            square.css('color', 'white')
                        }
                    })
                }
            }
        }

        function gameDraw(){
            squares.css('color', 'yellow')
            squares.css('background', 'blue')
            oTurn.html("IT'S A DRAW!!")
            xTurn.html("IT'S A DRAW!!")
            oTurn.css('visibility', 'unset');
            xTurn.css('visibility', 'unset');
            drawPoints += 1
            drawScore.html(drawPoints)
        }

        function checkForWin(){
            youWon(tl, tc, tr);
            youWon(cl, cc, cr);
            youWon(bl, bc, br);
            youWon(tl, cl, bl);
            youWon(tc, cc, bc);
            youWon(tr, cr, br);
            youWon(bl, cc, tr);
            youWon(tl, cc, br);
            if(count >= 9 && xTurn.html() !== 'X PLAYER WON!!!'){
                gameDraw()
            }
        }

        function startOver(){
            location.reload()
            // squares.html('');
            // squares.css('color', 'black')
            // squares.css('background', 'white')
            // xTurn.html('X Players Turn')
            // oTurn.html('O Players Turn')
            // oTurn.css('visibility', 'hidden');
            // xTurn.css('visibility', 'unset');
            // count = 0;
        }
        //^^^^DEFINED FUNCTIONS^^^^

        //ONE PLAYER MODE
        onePlayer.click(function() {
            xTurn.css('visibility', 'unset')
            squares.click(squareClickedOne)
            onePlayer.prop('disabled', true)
            reset.click(startOver);
        })
        //^^^^ONE PLAYER^^^^

        //TWO PLAYER MODE
        twoPlayer.click(function(){
            xTurn.css('visibility', 'unset')
            squares.click(squareClickedTwo)
            twoPlayer.prop('disabled', true)
            reset.click(startOver);
        })
        //^^^^TWO PLAYER^^^^

    });
</script>
</body>
</html>